

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rsh Approximation Model &mdash; PNP Transport 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Finite Source Simulation Code" href="pnptransport.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PNP Transport
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">FEniCS</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html#python-modules">Python Modules</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart: Finite Source Simulations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ofat.html">One-factor-at-a-time simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="ofat.html#one-factor-at-a-time-analysis">One-factor-at-a-time analysis</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pnptransport.html">Finite Source Simulation Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="pnptransport.html#module-pnptransport.infinitesource">Infinite Source Simulation Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="pnptransport.html#module-pnptransport.utils">Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="pnptransport.html#module-pnptransport.confidence">Confidence Intervals Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="pnptransport.html#module-pnptransport.transport_storage">Transport HD5 Storage System</a></li>
<li class="toctree-l1"><a class="reference internal" href="pnptransport.html#module-pnptransport.hd5storage">HD5 Storage</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rsh Approximation Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-pidsim.korol_conductivity">Korol Conductivity Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-pidsim.parameter_span">Parameter Span</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-pidsim.conductivity_interface">Conductivty Interface</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PNP Transport</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Rsh Approximation Model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/pidsim.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pidsim.rsh">
<span id="rsh-approximation-model"></span><h1>Rsh Approximation Model<a class="headerlink" href="#module-pidsim.rsh" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="pidsim.rsh.Rsh">
<em class="property">class </em><code class="sig-prename descclassname">pidsim.rsh.</code><code class="sig-name descname">Rsh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">h5_transport_file</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.rsh.Rsh" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides methods to estimate the shunt resistance <span class="math notranslate nohighlight">\(R_{\mathrm{sh}}\)</span> of a Na concentration profile
in a Si SF defect. It assumes the defect is a rectangular structure of 0.57 nm of width and that the concentration
can be discretized within parallelepipeds within the stacking fault, in which the Na concentration is mapped to
a resistivity. Then the resistivities are added in series</p>
<div class="math notranslate nohighlight">
\[R_{\mathrm{Na}} = \sum_{i} R_i\]</div>
<p>We assume that <span class="math notranslate nohighlight">\(R_{\mathrm{Na}}\)</span> is in parallel with the junction resistance <span class="math notranslate nohighlight">\(R_{\mathrm{jun}}\)</span>.</p>
<p>The shunt resistance is estimated then by</p>
<div class="math notranslate nohighlight">
\[R_{\mathrm{sh}} = \frac{R_{\mathrm{Na}} R_{\mathrm{jun}}}{R_{\mathrm{Na}} + R_{\mathrm{jun}}}\]</div>
<p>Currently it uses maps the conductivity values to resistivity using KorolConductivity model.</p>
<p><em>Example</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pidsim.rsh</span> <span class="k">as</span> <span class="nn">prsh</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">path_to_h5</span> <span class="o">=</span> <span class="s1">&#39;./transport_simulation_output.h5&#39;</span>
<span class="n">requested_times</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3600</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">rsh_analysis</span> <span class="o">=</span> <span class="n">prsh</span><span class="o">.</span><span class="n">Rsh</span><span class="p">(</span><span class="n">h5_transport_file</span><span class="o">=</span><span class="n">path_to_h5</span><span class="p">)</span>
<span class="c1"># Get the indices of the respective time points in the h5 file:</span>
<span class="n">requested_indices</span> <span class="o">=</span> <span class="n">prsh</span><span class="o">.</span><span class="n">get_requested_time_indices</span><span class="p">(</span><span class="n">requested_times</span><span class="o">=</span><span class="n">requested_times</span><span class="p">)</span>
<span class="n">rsh</span> <span class="o">=</span> <span class="n">prsh</span><span class="o">.</span><span class="n">resistance_time_series</span><span class="p">(</span><span class="n">requested_indices</span><span class="o">=</span><span class="n">requested_indices</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="pidsim.rsh.Rsh._shunt_width">
<code class="sig-name descname">_shunt_width</code><a class="headerlink" href="#pidsim.rsh.Rsh._shunt_width" title="Permalink to this definition">¶</a></dt>
<dd><p>The width of the stacking fault through which the shunt will be constructed.
A default value of 0.57 nm is used in accordance to</p>
<p>Volker Naumann, Dominik Lausch, Angelika Hähnel, Jan Bauer, Otwin Breitenstein, Andreas Graff, Martina Werner,
Sina Swatek, Stephan Großer, Jörg Bagdahn, and Christian Hagendorf,  <em>Sol. Energy Mater. Sol. Cells</em> <strong>120</strong>,
83 (2014).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.rsh.Rsh._shunt_length">
<code class="sig-name descname">_shunt_length</code><a class="headerlink" href="#pidsim.rsh.Rsh._shunt_length" title="Permalink to this definition">¶</a></dt>
<dd><p>The length of the shunt as projected on the SiNx/Si interface</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.rsh.Rsh._h5_transport_file">
<code class="sig-name descname">_h5_transport_file</code><a class="headerlink" href="#pidsim.rsh.Rsh._h5_transport_file" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the h5 file containing the results from the transport simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.rsh.Rsh._data_storage">
<code class="sig-name descname">_data_storage</code><a class="headerlink" href="#pidsim.rsh.Rsh._data_storage" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper class to access the data in the h5 file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>data_storage.TransportStorage</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.rsh.Rsh.__activated_na_fraction">
<code class="sig-name descname">__activated_na_fraction</code><a class="headerlink" href="#pidsim.rsh.Rsh.__activated_na_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>The fraction of Na atoms that contribute to as free careers to the conductivity model</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.rsh.Rsh.__segregation_coefficient">
<code class="sig-name descname">__segregation_coefficient</code><a class="headerlink" href="#pidsim.rsh.Rsh.__segregation_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>The segregation coefficient of the stacking fault.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.rsh.Rsh.__n_resistors">
<code class="sig-name descname">__n_resistors</code><a class="headerlink" href="#pidsim.rsh.Rsh.__n_resistors" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of resistors to partition the concentration profile in order to get Rsh</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.rsh.Rsh.__shunt_x">
<code class="sig-name descname">__shunt_x</code><a class="headerlink" href="#pidsim.rsh.Rsh.__shunt_x" title="Permalink to this definition">¶</a></dt>
<dd><p>The x coordinate of the concentration profile in the silicon emitter</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.rsh.Rsh.__conductivity_cutoff">
<code class="sig-name descname">__conductivity_cutoff</code><a class="headerlink" href="#pidsim.rsh.Rsh.__conductivity_cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>The cutoff of the conductivity below which the shunt will be consider not existent in the x position.
(defaults to 1E-10 S/cm)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.activated_na_fraction">
<em class="property">property </em><code class="sig-name descname">activated_na_fraction</code><a class="headerlink" href="#pidsim.rsh.Rsh.activated_na_fraction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.cell_area">
<em class="property">property </em><code class="sig-name descname">cell_area</code><a class="headerlink" href="#pidsim.rsh.Rsh.cell_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.conductivity_cutoff">
<em class="property">property </em><code class="sig-name descname">conductivity_cutoff</code><a class="headerlink" href="#pidsim.rsh.Rsh.conductivity_cutoff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.dielectric_flux_time_series">
<code class="sig-name descname">dielectric_flux_time_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">requested_indices</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pidsim.rsh.Rsh.dielectric_flux_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the values of the fluxes at the source and at the middle of the dielectric</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>requested_indices</strong> (<em>np.ndarray</em>) – The time indices to estimate the fluxes at.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A data structure containing t, Js, Jd</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.get_requested_time_indices">
<code class="sig-name descname">get_requested_time_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">requested_times</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pidsim.rsh.Rsh.get_requested_time_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of the indices that match the requested times to the time array in file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>requested_times</strong> (<em>np.ndarray</em>) – An array with the time points in seconds that we want to request the indices for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The array containing the indices that match the requested times to the time array in file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.h5_storage">
<em class="property">property </em><code class="sig-name descname">h5_storage</code><a class="headerlink" href="#pidsim.rsh.Rsh.h5_storage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.interface_concentrations_time_series">
<code class="sig-name descname">interface_concentrations_time_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">requested_indices</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pidsim.rsh.Rsh.interface_concentrations_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the values of the concentration at both sides of the SiNx/Si interface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>requested_indices</strong> (<em>np.ndarray</em>) – The time indices to estimate the concentrations at.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A data structure containing t, CSiNx, CSi</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.n_resistors">
<em class="property">property </em><code class="sig-name descname">n_resistors</code><a class="headerlink" href="#pidsim.rsh.Rsh.n_resistors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.profile_x">
<em class="property">property </em><code class="sig-name descname">profile_x</code><a class="headerlink" href="#pidsim.rsh.Rsh.profile_x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.resistance_at_time_t">
<code class="sig-name descname">resistance_at_time_t</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_s</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.rsh.Rsh.resistance_at_time_t" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the resistance of the concetration profile as the equivalent resistance of a segment of series
resistors corresponding to a partition of the concentration profile into parallelepipeds</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_s</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The resistance in Ohm cm</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.resistance_time_series">
<code class="sig-name descname">resistance_time_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">requested_indices</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pidsim.rsh.Rsh.resistance_time_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the modeled Rsh at the requested time points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>requested_indices</strong> (<em>np.ndarray</em>) – The time indices to estimate the Rsh at.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The time series for Rsh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.rsh_0">
<em class="property">property </em><code class="sig-name descname">rsh_0</code><a class="headerlink" href="#pidsim.rsh.Rsh.rsh_0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.segregation_coefficient">
<em class="property">property </em><code class="sig-name descname">segregation_coefficient</code><a class="headerlink" href="#pidsim.rsh.Rsh.segregation_coefficient" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.shunt_area">
<em class="property">property </em><code class="sig-name descname">shunt_area</code><a class="headerlink" href="#pidsim.rsh.Rsh.shunt_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.shunt_depth">
<em class="property">property </em><code class="sig-name descname">shunt_depth</code><a class="headerlink" href="#pidsim.rsh.Rsh.shunt_depth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.shunt_length">
<em class="property">property </em><code class="sig-name descname">shunt_length</code><a class="headerlink" href="#pidsim.rsh.Rsh.shunt_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.shunt_width">
<em class="property">property </em><code class="sig-name descname">shunt_width</code><a class="headerlink" href="#pidsim.rsh.Rsh.shunt_width" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.rsh.Rsh.time_s">
<em class="property">property </em><code class="sig-name descname">time_s</code><a class="headerlink" href="#pidsim.rsh.Rsh.time_s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pidsim.korol_conductivity">
<span id="korol-conductivity-implementation"></span><h1>Korol Conductivity Implementation<a class="headerlink" href="#module-pidsim.korol_conductivity" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="pidsim.korol_conductivity.KorolConductivity">
<em class="property">class </em><code class="sig-prename descclassname">pidsim.korol_conductivity.</code><code class="sig-name descname">KorolConductivity</code><a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pidsim.conductivity_interface.ConductivityInterface" title="pidsim.conductivity_interface.ConductivityInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">pidsim.conductivity_interface.ConductivityInterface</span></code></a></p>
<p>This class provides methods to map a concentration of Na atoms in Si to a conductivity value.</p>
<p><em>Example</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pidsim.korol_conductivity</span> <span class="kn">import</span> <span class="n">KorolConductivity</span>
<span class="kn">import</span> <span class="nn">h5py</span>

<span class="n">conductivity_model</span><span class="p">:</span> <span class="n">KorolConductivity</span> <span class="o">=</span> <span class="n">KorolConductivity</span><span class="p">()</span>
<span class="c1"># Assume every Na atom contributes 1 conduction electron</span>
<span class="n">conductivity_model</span><span class="o">.</span><span class="n">activated_na_fraction</span> <span class="o">=</span> <span class="mf">1.</span>
<span class="c1"># Get a concentration profile from a transport simulation</span>
<span class="n">h5_path</span> <span class="o">=</span> <span class="s1">&#39;./transport_simulation_output.h5&#39;</span>
<span class="c1"># Get the profile at index 20</span>
<span class="n">idx</span> <span class="o">=</span> <span class="mi">20</span>
<span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">h5_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">hf</span><span class="p">:</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">hf</span><span class="p">[</span><span class="s1">&#39;/L2/concentration/ct_</span><span class="si">{0:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">idx</span><span class="p">)])</span>
<span class="c1"># Update the concentration profile in the model</span>
<span class="n">conductivity_model</span><span class="o">.</span><span class="n">concentration_profile</span> <span class="o">=</span> <span class="n">c</span>
<span class="n">conductivity_model</span><span class="o">.</span><span class="n">segregation_coefficient</span> <span class="o">=</span> <span class="mf">1.</span>
<span class="n">conductivity</span> <span class="o">=</span> <span class="n">conductivity_model</span><span class="o">.</span><span class="n">estimate_conductivity</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="pidsim.korol_conductivity.KorolConductivity.__sodium_profile">
<code class="sig-name descname">__sodium_profile</code><a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity.__sodium_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>The Na concentration profile in cm<sup>-3</sup> .</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.korol_conductivity.KorolConductivity.__activated_na_fraction">
<code class="sig-name descname">__activated_na_fraction</code><a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity.__activated_na_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>The activated fraction of Na atoms to compute the conductivity <span class="math notranslate nohighlight">\(0 &lt; f &lt; 1\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pidsim.korol_conductivity.KorolConductivity.__segregation_coefficient">
<code class="sig-name descname">__segregation_coefficient</code><a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity.__segregation_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.1: </span>This value represents the segregation coefficient of Na in the stacking fault assuming a mechanism driven
by bulk diffusion + segregation at the SF. Use 1.0.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pidsim.korol_conductivity.KorolConductivity.activated_na_fraction">
<em class="property">property </em><code class="sig-name descname">activated_na_fraction</code><a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity.activated_na_fraction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.korol_conductivity.KorolConductivity.concentration_profile">
<em class="property">property </em><code class="sig-name descname">concentration_profile</code><a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity.concentration_profile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.korol_conductivity.KorolConductivity.conductivity_model">
<code class="sig-name descname">conductivity_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">concentration</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity.conductivity_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of the conductivity_model model.</p>
<p><strong>Model simplifications</strong></p>
<ol class="arabic simple">
<li><p>The Na to Si ratio in the stacking fault is obtained from the ratio between Na concentration and Si
concentration in the bulk of a perfect crystal (does not consider the specific geometry of a stacking fault)</p></li>
<li><p>Conductivity is calculated based on depth-resolved Hall-effect measurements of mobility and carrier density
in Na-implanted Si (Korol et al.)</p></li>
</ol>
<dl class="simple">
<dt><em>Reference</em></dt><dd><p>Korol, V. M. “Sodium ion implantation into silicon.” Physica status solidi (a) 110.1 (1988): 9-34.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>concentration</strong> (<em>np.ndarray</em>) – The sodium concentration in the Si bulk</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The conductivity_model profile</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pidsim.korol_conductivity.KorolConductivity.estimate_conductivity">
<code class="sig-name descname">estimate_conductivity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity.estimate_conductivity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.korol_conductivity.KorolConductivity.segregation_coefficient">
<em class="property">property </em><code class="sig-name descname">segregation_coefficient</code><a class="headerlink" href="#pidsim.korol_conductivity.KorolConductivity.segregation_coefficient" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pidsim.parameter_span">
<span id="parameter-span"></span><h1>Parameter Span<a class="headerlink" href="#module-pidsim.parameter_span" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="pidsim.parameter_span.append_to_batch_script">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">append_to_batch_script</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filetag</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">batch_script</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.parameter_span.append_to_batch_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends an execution line to the batch script</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filetag</strong> (<em>str</em>) – The file tag for the .ini configuration file to run.</p></li>
<li><p><strong>batch_script</strong> (<em>str</em>) – The path to the batch script to append to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pidsim.parameter_span.create_filetag">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">create_filetag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_s</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">temp_c</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">sigma_s</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">zeta</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">d_sf</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">ef</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">m</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">h</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">recovery_time</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">recovery_e_field</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">d_sin</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#pidsim.parameter_span.create_filetag" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the file_tag for the simulation input file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_s</strong> (<em>float</em>) – The simulation time in seconds.</p></li>
<li><p><strong>temp_c</strong> (<em>float</em>) – The temperature in °C</p></li>
<li><p><strong>sigma_s</strong> (<em>float</em>) – The surface concentration of the source, in atoms/ cm<sup>2</sup> .</p></li>
<li><p><strong>zeta</strong> (<em>float</em>) – The rate of ingress in 1/s</p></li>
<li><p><strong>d_sf</strong> (<em>float</em>) – The diffusivity at the SF in cm<sup>2</sup> /s</p></li>
<li><p><strong>ef</strong> (<em>float</em>) – The applied electric field in SiNx in V/cm</p></li>
<li><p><strong>m</strong> (<em>float</em>) – The segregation coefficient</p></li>
<li><p><strong>h</strong> (<em>float</em>) – The surface mass transfer coefficient at the SiNx/Si interface in cm/s</p></li>
<li><p><strong>recovery_time</strong> (<em>float</em>) – The simulated recovery time (additional to the PID simulations) in s. Default: 0.</p></li>
<li><p><strong>recovery_e_field</strong> (<em>float</em>) – The electric field applied under recovery (ideally with sign opposite to the PID stress) units: V.
Default: 0 V</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The file_tag</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pidsim.parameter_span.create_input_file">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">create_input_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">simulation_time</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">temperature_c</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">sigma_s</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">zeta</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">d_sf</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">e_field</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">segregation_coefficient</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">h</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">thickness_sin</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">thickness_si</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">base_concentration</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">er</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">t_steps</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">x_points_sin</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">x_points_si</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">out_dir</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">recovery_time</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">recovery_e_field</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">d0_sinx</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1e-14</span></em>, <em class="sig-param"><span class="n">ea_sinx</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">d_sin</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#pidsim.parameter_span.create_input_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an inputfile for the finite source simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simulation_time</strong> (<em>float</em>) – The simulation time in seconds</p></li>
<li><p><strong>temperature_c</strong> (<em>float</em>) – The simulation temperature °C</p></li>
<li><p><strong>sigma_s</strong> (<em>float</em>) – The surface concentration of the source in atoms/cm<sup>2</sup>     zeta: float
The surface rate of ingress of Na in (1/s)</p></li>
<li><p><strong>d_sf</strong> (<em>float</em>) – The diffusion coefficient in the SF in cm<sup>2</sup> /s</p></li>
<li><p><strong>e_field</strong> (<em>float</em>) – The electric field in SiNx in V/cm</p></li>
<li><p><strong>segregation_coefficient</strong> (<em>float</em>) – The segregation coefficient at the SiNx/Si interface</p></li>
<li><p><strong>h</strong> (<em>float</em>) – The surface mass transfer coefficient at the SiNx/Si interface in cm/s</p></li>
<li><p><strong>thickness_sin</strong> (<em>float</em>) – The thickness of the SiNx layer in um.</p></li>
<li><p><strong>thickness_si</strong> (<em>float</em>) – The thickness of the Si layer in um</p></li>
<li><p><strong>base_concentration</strong> (<em>float</em>) – The base Na concentration prior to the simulation.</p></li>
<li><p><strong>er</strong> (<em>float</em>) – The relative permittivity of SiNx</p></li>
<li><p><strong>t_steps</strong> (<em>int</em>) – The number of time steps to simulate</p></li>
<li><p><strong>x_points_sin</strong> (<em>int</em>) – The number of grid points in the SiNx layer</p></li>
<li><p><strong>x_points_si</strong> (<em>int</em>) – The number of grid points in the Si layer</p></li>
<li><p><strong>out_dir</strong> (<em>str</em>) – The path to the output dir</p></li>
<li><p><strong>recovery_time</strong> (<em>float</em>) – Additional time used to model recovery (s). Default: 0.</p></li>
<li><p><strong>recovery_e_field</strong> (<em>float</em>) – Electric field applied during the recovery process in V/cm. Default: 0</p></li>
<li><p><strong>d0_sinx</strong> (<em>float</em>) – The Arrhenius prefactor for the diffusion coefficient of Na in SiN<sub>x</sub> , in cm<sup>2</sup> /s.
(only used if d_sin is <cite>None</cite>)</p></li>
<li><p><strong>ea_sinx</strong> (<em>float</em>) – The activation energy of the diffusion coefficient of Na in SiN<sub>x</sub>, given in eV.
(only used if d_sin is <cite>None</cite>)</p></li>
<li><p><strong>d_sin</strong> (<em>float</em>) – The diffusivity of Na in SiN<sub>x</sub> , in cm<sup>2</sup> /s. Default: <cite>None</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The file_tag of the generated file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pidsim.parameter_span.create_span_file">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">create_span_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param_list</span><span class="p">:</span> <span class="n">dict</span></em>, <em class="sig-param"><span class="n">simulation_time</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">temperature_c</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">thickness_sin</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">thickness_si</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">base_concentration</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">er</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">t_steps</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">x_points_sin</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">x_points_si</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">out_dir</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.parameter_span.create_span_file" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for create_input_file that unpacks the values of the parameter span contained in param_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_list</strong> (<em>dict</em>) – A dictionary with the values of the parameters that are being varied. Must contain:
- sigma_s: The surface concentration in atoms/cm<sup>2</sup>         - zeta: the rate of transfer in 1/s
- dsf: the diffusion coefficient of Na in the SF
- e_field: The electric field in V/cm
- segregation coefficient: The segregation coefficient at the SiNx/Si interface
- h: The surface mass transfer coefficient at the SiNx/Si interface
- recovery_time: The recovery time added to the simulation
- recovery_e_field: The electric field applied under recovery</p></li>
<li><p><strong>simulation_time</strong> (<em>float</em>) – The simulation time in seconds</p></li>
<li><p><strong>temperature_c</strong> (<em>float</em>) – The simulation temperature in °C</p></li>
<li><p><strong>thickness_sin</strong> (<em>float</em>) – The thickness of the SiNx layer in um.</p></li>
<li><p><strong>thickness_si</strong> (<em>float</em>) – The thickness of the simulated SF in um</p></li>
<li><p><strong>base_concentration</strong> (<em>float</em>) – The bulk base impurity concentration for all layers in 1/cm<sup>3</sup>     er: float
The relative permittivity of SiNx</p></li>
<li><p><strong>t_steps</strong> (<em>int</em>) – The number of time steps to simulate.</p></li>
<li><p><strong>x_points_sin</strong> (<em>int</em>) – The number of elements to simulate in the SiNx layer.</p></li>
<li><p><strong>x_points_si</strong> (<em>int</em>) – The number of elements to simulate in the Si layer.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em>) – The path to the output directory</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The name of the input file for the simulation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pidsim.parameter_span.efield_plus_d_sin">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">efield_plus_d_sin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">csv_file</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">simulation_time</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">temperature_c</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">sigma_s</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">zeta</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">h</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">segregation_coefficient</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">dsf</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">er</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">7.0</span></em>, <em class="sig-param"><span class="n">thickness_sin</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.075</span></em>, <em class="sig-param"><span class="n">thickness_si</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">t_steps</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">720</span></em>, <em class="sig-param"><span class="n">x_points_sin</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">100</span></em>, <em class="sig-param"><span class="n">x_points_si</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">200</span></em>, <em class="sig-param"><span class="n">base_concentration</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1e-20</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.parameter_span.efield_plus_d_sin" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the input files to simulate simultaneous variations in :math: <cite>D_{mathrm{SiN}}</cite> and
:math: <cite>E</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csv_file</strong> (<em>str</em>) – The path to the csv file containing the parameter variations</p></li>
<li><p><strong>simulation_time</strong> – The simulation time (s).</p></li>
<li><p><strong>temperature_c</strong> – The simulation temperature in °C</p></li>
<li><p><strong>sigma_s</strong> (<em>float</em>) – The surface concentration :math: <cite>S_0</cite> in cm<sup>-2</sup>.</p></li>
<li><p><strong>zeta</strong> (<em>float</em>) – The rate of ingress :math: <cite>k</cite> in s<sup>-1</sup>.</p></li>
<li><p><strong>dsf</strong> (<em>float</em>) – The diffusion coefficient of Na in the stacking fault in cm<sup>2</sup>/s</p></li>
<li><p><strong>h</strong> (<em>float</em>) – The surface mass transfer coefficient between the SiN<sub>x</sub>film and the silicon
layer. In cm/s.</p></li>
<li><p><strong>segregation_coefficient</strong> (<em>float</em>) – The segregation coefficient :math: <cite>m</cite>.</p></li>
<li><p><strong>er</strong> (<em>float</em>) – The relative permittivity of SiN: sub:<cite>x</cite>.</p></li>
<li><p><strong>thickness_sin</strong> (<em>float</em>) – The thickness of SiN: sub:<cite>x</cite>in um.</p></li>
<li><p><strong>thickness_si</strong> – The thickness of the silicon layer in um.</p></li>
<li><p><strong>t_steps</strong> (<em>int</em>) – The number of time steps to simulate.</p></li>
<li><p><strong>x_points_sin</strong> (<em>int</em>) – The number of grid points for the SiN: sub:<cite>x</cite>layer.</p></li>
<li><p><strong>x_points_si</strong> (<em>int</em>) – The number of grid points in the Si layer.</p></li>
<li><p><strong>base_concentration</strong> (<em>float</em>) – The base concentration to simulate (cm:sup: <cite>-3</cite>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pidsim.parameter_span.one_factor_at_a_time">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">one_factor_at_a_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">csv_file</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">simulation_time</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">temperature_c</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">er</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">7.0</span></em>, <em class="sig-param"><span class="n">thickness_sin</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.075</span></em>, <em class="sig-param"><span class="n">thickness_si</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1</span></em>, <em class="sig-param"><span class="n">t_steps</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">720</span></em>, <em class="sig-param"><span class="n">x_points_sin</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">100</span></em>, <em class="sig-param"><span class="n">x_points_si</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">200</span></em>, <em class="sig-param"><span class="n">base_concentration</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1e-20</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.parameter_span.one_factor_at_a_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates input files and batch script to run one-factor-at-a-time parameter variation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csv_file</strong> (<em>str</em>) – <p>The path to the csv file containing the base case and the parameter scans to simulate:
Format of the file</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 25%" />
<col style="width: 39%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter name</p></th>
<th class="head"><p>Base case</p></th>
<th class="head"><p>span</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sigma_s</p></td>
<td><p>1E+11</p></td>
<td><p>1E10,1E11,…</p></td>
</tr>
<tr class="row-odd"><td><p>zeta</p></td>
<td><p>1E-4</p></td>
<td><p>1E-4,1E-3,…</p></td>
</tr>
<tr class="row-even"><td><p>DSF</p></td>
<td><p>1E-14</p></td>
<td><p>1E-12,1E-14,…</p></td>
</tr>
<tr class="row-odd"><td><p>E</p></td>
<td><p>1E4</p></td>
<td><p>1E2,1E4,…</p></td>
</tr>
<tr class="row-even"><td><p>m</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>h</p></td>
<td><p>1E-8</p></td>
<td><p>1E-8,1E-7,…</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</p></li>
<li><p><strong>simulation_time</strong> (<em>float</em>) – The total simulation time in s.</p></li>
<li><p><strong>temperature_c</strong> (<em>float</em>) – The simulation temperature in °C</p></li>
<li><p><strong>er</strong> (<em>float</em>) – The relative permittivity of SiNx. Default 7.0</p></li>
<li><p><strong>thickness_sin</strong> (<em>float</em>) – The thickness of the SiNx layer in um. Default: 0.075</p></li>
<li><p><strong>thickness_si</strong> (<em>float</em>) – The thickness of the Si layer in um. Default 1 um</p></li>
<li><p><strong>t_steps</strong> (<em>int</em>) – The number of time steps for the integration.</p></li>
<li><p><strong>x_points_sin</strong> (<em>int</em>) – The number of grid points in the SiN layer</p></li>
<li><p><strong>x_points_si</strong> (<em>int</em>) – The number of grid points in the Si layer.</p></li>
<li><p><strong>base_concentration</strong> (<em>float</em>) – The background impurity concentration in cm^-3. Default 1E-20 cm<sup>-3</sup> .</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pidsim.parameter_span.sigma_efield_variations">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">sigma_efield_variations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sigmas</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">efields</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">out_dir</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">zeta</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">simulation_time</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">dsf</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">h</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">m</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">temperature_c</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">er</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">7.0</span></em>, <em class="sig-param"><span class="n">thickness_sin</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.075</span></em>, <em class="sig-param"><span class="n">thickness_si</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">t_steps</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">720</span></em>, <em class="sig-param"><span class="n">x_points_sin</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">100</span></em>, <em class="sig-param"><span class="n">x_points_si</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">200</span></em>, <em class="sig-param"><span class="n">base_concentration</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1e-20</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.parameter_span.sigma_efield_variations" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates inputs for a combination of the initial surface concentrations and electric fields defined in the input.
Every other parameter remains fixed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigmas</strong> (<em>np.ndarray</em>) – An array containing the values of the surface concentration to vary (in ions/cm<sup>2</sup> )</p></li>
<li><p><strong>efields</strong> (<em>np.ndarray</em>) – An array containing the values of the electric fields to vary (in V/cm)</p></li>
<li><p><strong>out_dir</strong> (<em>str</em>) – The path to the folder to store the generated input files.</p></li>
<li><p><strong>zeta</strong> (<em>float</em>) – The value of the rate of ingress at the surface (1/s)</p></li>
<li><p><strong>simulation_time</strong> (<em>float</em>) – The time length of the simulation in seconds.</p></li>
<li><p><strong>dsf</strong> (<em>float</em>) – The diffusion coefficient of Na in the stacking fault.</p></li>
<li><p><strong>h</strong> (<em>float</em>) – The surface mass transfer coefficient at the SiNx/Si interface in (cm/s)</p></li>
<li><p><strong>m</strong> (<em>float</em>) – The segregation coefficient at the SiNx/Si interface</p></li>
<li><p><strong>temperature_c</strong> (<em>float</em>) – The temperature °C</p></li>
<li><p><strong>er</strong> (<em>float</em>) – The relative permittivity of the dielectric. Default 7.0</p></li>
<li><p><strong>thickness_sin</strong> (<em>float</em>) – The thickness of the SiNx layer in um.</p></li>
<li><p><strong>thickness_si</strong> (<em>float</em>) – The thickness of the Si layer in um.</p></li>
<li><p><strong>t_steps</strong> (<em>int</em>) – The number of time steps. Default: 720</p></li>
<li><p><strong>x_points_sin</strong> (<em>int</em>) – The number of mesh points in the SiNx layer. Default 100</p></li>
<li><p><strong>x_points_si</strong> (<em>int</em>) – The number of mesh points in the Si layer. Default 200</p></li>
<li><p><strong>base_concentration</strong> (<em>float</em>) – The background concentration at the initial condition in atoms/cm<sup>3</sup></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pidsim.parameter_span.sin_bias_from_e">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">sin_bias_from_e</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e_field</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">thickness_sin</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#pidsim.parameter_span.sin_bias_from_e" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the bias in SiNx based on the value of the electric field and the thickness of the layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>e_field</strong> (<em>float</em>) – The electric field in the SiNx layer (V/cm)</p></li>
<li><p><strong>thickness_sin</strong> (<em>float</em>) – The thickness of the SiNx layer in (um).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The corresponding bias in V</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pidsim.parameter_span.string_list_to_float">
<code class="sig-prename descclassname">pidsim.parameter_span.</code><code class="sig-name descname">string_list_to_float</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">the_list</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pidsim.parameter_span.string_list_to_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a string containing a comma-separated list and converts it to a numpy array of floats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>the_list</strong> (<em>str</em>) – The comma-separated list</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The corresponding array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pidsim.conductivity_interface">
<span id="conductivty-interface"></span><h1>Conductivty Interface<a class="headerlink" href="#module-pidsim.conductivity_interface" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="pidsim.conductivity_interface.ConductivityInterface">
<em class="property">class </em><code class="sig-prename descclassname">pidsim.conductivity_interface.</code><code class="sig-name descname">ConductivityInterface</code><a class="headerlink" href="#pidsim.conductivity_interface.ConductivityInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="pidsim.conductivity_interface.ConductivityInterface.concentration_profile">
<em class="property">abstract property </em><code class="sig-name descname">concentration_profile</code><a class="headerlink" href="#pidsim.conductivity_interface.ConductivityInterface.concentration_profile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pidsim.conductivity_interface.ConductivityInterface.estimate_conductivity">
<em class="property">abstract </em><code class="sig-name descname">estimate_conductivity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pidsim.conductivity_interface.ConductivityInterface.estimate_conductivity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="pnptransport.html" class="btn btn-neutral float-left" title="Finite Source Simulation Code" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Erick R Martinez Loran

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>